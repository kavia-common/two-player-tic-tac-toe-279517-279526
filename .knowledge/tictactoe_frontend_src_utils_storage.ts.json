{"is_source_file": true, "format": "TypeScript", "description": "This file provides utility functions for persistent storage using an asynchronous storage mechanism, typically in a React Native environment. It includes functions to get, set, and remove stored data with fallback implementations.", "external_files": ["@react-native-async-storage/async-storage"], "external_methods": ["import('@react-native-async-storage/async-storage').default"], "published": ["persist", "restore", "remove"], "classes": [], "methods": [{"name": "async function getStorage(): Promise<AsyncStorageLike> { getStorage", "description": "Dynamically imports and returns the async storage module, with fallback to in-memory shim if unavailable.", "scope": "", "scopeKind": ""}, {"name": "export async function persist<T>(key: string, value: T): Promise<void> { persist", "description": "Serializes and saves a value under a specified key in storage.", "scope": "", "scopeKind": ""}, {"name": "export async function restore<T>(key: string, fallback: T): Promise<T> { restore", "description": "Retrieves and parses a stored value by key, returning a fallback if not found or on error.", "scope": "", "scopeKind": ""}, {"name": "export async function remove(key: string): Promise<void> { remove", "description": "Removes a stored item by key.", "scope": "", "scopeKind": ""}], "calls": ["getStorage", "storage.setItem", "storage.getItem", "storage.removeItem"], "search-terms": ["AsyncStorage", "persist", "restore", "storageShim", "React Native async storage", "storage fallback"], "state": 2, "file_id": 9, "knowledge_revision": 34, "git_revision": "", "revision_history": [{"19": ""}, {"34": ""}], "ctags": [{"_type": "tag", "name": "AsyncStorageLike", "path": "/home/kavia/workspace/code-generation/two-player-tic-tac-toe-279517-279526/tictactoe_frontend/src/utils/storage.ts", "pattern": "/^type AsyncStorageLike = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "AsyncStorageModule", "path": "/home/kavia/workspace/code-generation/two-player-tic-tac-toe-279517-279526/tictactoe_frontend/src/utils/storage.ts", "pattern": "/^let AsyncStorageModule: AsyncStorageLike | null = null;$/", "language": "TypeScript", "kind": "variable"}, {"_type": "tag", "name": "Storable", "path": "/home/kavia/workspace/code-generation/two-player-tic-tac-toe-279517-279526/tictactoe_frontend/src/utils/storage.ts", "pattern": "/^type Storable = string;$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/two-player-tic-tac-toe-279517-279526/tictactoe_frontend/src/utils/storage.ts", "pattern": "/^    const data = JSON.stringify(value);$/", "language": "TypeScript", "kind": "constant", "scope": "persist", "scopeKind": "function"}, {"_type": "tag", "name": "getStorage", "path": "/home/kavia/workspace/code-generation/two-player-tic-tac-toe-279517-279526/tictactoe_frontend/src/utils/storage.ts", "pattern": "/^async function getStorage(): Promise<AsyncStorageLike> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "mod", "path": "/home/kavia/workspace/code-generation/two-player-tic-tac-toe-279517-279526/tictactoe_frontend/src/utils/storage.ts", "pattern": "/^    const mod = await import('@react-native-async-storage\\/async-storage');$/", "language": "TypeScript", "kind": "constant", "scope": "getStorage", "scopeKind": "function"}, {"_type": "tag", "name": "persist", "path": "/home/kavia/workspace/code-generation/two-player-tic-tac-toe-279517-279526/tictactoe_frontend/src/utils/storage.ts", "pattern": "/^export async function persist<T>(key: string, value: T): Promise<void> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/two-player-tic-tac-toe-279517-279526/tictactoe_frontend/src/utils/storage.ts", "pattern": "/^    const raw = await storage.getItem(key);$/", "language": "TypeScript", "kind": "constant", "scope": "restore", "scopeKind": "function"}, {"_type": "tag", "name": "remove", "path": "/home/kavia/workspace/code-generation/two-player-tic-tac-toe-279517-279526/tictactoe_frontend/src/utils/storage.ts", "pattern": "/^export async function remove(key: string): Promise<void> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "restore", "path": "/home/kavia/workspace/code-generation/two-player-tic-tac-toe-279517-279526/tictactoe_frontend/src/utils/storage.ts", "pattern": "/^export async function restore<T>(key: string, fallback: T): Promise<T> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "storage", "path": "/home/kavia/workspace/code-generation/two-player-tic-tac-toe-279517-279526/tictactoe_frontend/src/utils/storage.ts", "pattern": "/^    const storage = (mod as unknown as { default?: AsyncStorageLike }).default;$/", "language": "TypeScript", "kind": "constant", "scope": "getStorage", "scopeKind": "function"}, {"_type": "tag", "name": "storage", "path": "/home/kavia/workspace/code-generation/two-player-tic-tac-toe-279517-279526/tictactoe_frontend/src/utils/storage.ts", "pattern": "/^    const storage = await getStorage();$/", "language": "TypeScript", "kind": "constant", "scope": "persist", "scopeKind": "function"}, {"_type": "tag", "name": "storage", "path": "/home/kavia/workspace/code-generation/two-player-tic-tac-toe-279517-279526/tictactoe_frontend/src/utils/storage.ts", "pattern": "/^    const storage = await getStorage();$/", "language": "TypeScript", "kind": "constant", "scope": "remove", "scopeKind": "function"}, {"_type": "tag", "name": "storage", "path": "/home/kavia/workspace/code-generation/two-player-tic-tac-toe-279517-279526/tictactoe_frontend/src/utils/storage.ts", "pattern": "/^    const storage = await getStorage();$/", "language": "TypeScript", "kind": "constant", "scope": "restore", "scopeKind": "function"}], "hash": "07ab8c9388180aa670c21e34a30a56d7", "format-version": 4, "code-base-name": "tictactoe_frontend", "filename": "tictactoe_frontend/src/utils/storage.ts", "fields": [{"name": "let AsyncStorageModule: AsyncStorageLike | null = null;", "scope": "", "scopeKind": "", "description": "unavailable"}]}